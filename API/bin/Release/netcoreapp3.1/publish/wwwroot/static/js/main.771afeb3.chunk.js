(this["webpackJsonpclient-app"]=this["webpackJsonpclient-app"]||[]).push([[0],{322:function(e,t,n){e.exports=n(554)},327:function(e,t,n){},328:function(e,t,n){},480:function(e,t,n){},482:function(e,t,n){},483:function(e,t,n){},484:function(e,t,n){},533:function(e,t,n){},534:function(e,t,n){},535:function(e,t,n){},536:function(e,t,n){},554:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return Ln}));var a=n(0),r=n.n(a),i=n(22),o=n.n(i),c=(n(327),n(28)),l=n(172),s=n(239),u=n(582),m=n(102),d=n(573),p=n(578),b=n(557),f=n(14),h=(n(328),n(147)),v=function(e){var t=e.input,n=e.width,a=e.type,i=e.readOnly,o=e.placeholder,c=e.label,l=e.meta,s=l.touched,u=l.error;return r.a.createElement(d.a.Field,{error:s&&!!u,type:a,width:n},c&&r.a.createElement("label",null,c),r.a.createElement("input",Object.assign({},t,{placeholder:o,readOnly:i})),s&&u&&r.a.createElement(h.a,{basic:!0,color:"red",style:{margin:0,padding:"10px",display:"flex"}},u))},E=n(30),O=n(5),g=n(87),j=n(11),w=n.n(j),y=n(21),C=n(9),S=n(82),x=n(7),A=(n(70),n(15)),N=n(65),P=n.n(N);P.a.defaults.baseURL="/api",P.a.interceptors.request.use((function(e){var t=window.localStorage.getItem("jwt");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)})),P.a.interceptors.response.use(void 0,(function(e){var t=e.response,n=t.status,a=t.headers;if(401!==n||!a["www-authenticate"].includes("Bearer error"))throw e.response;window.localStorage.removeItem("jwt"),Ln.push("/"),A.b.info("Your session has expired. Please login again")}));var k,D,I,z,_,L,R,U,F,M,T,q,V,B,G,H,Y,J,Z,K,W,Q,X,$,ee,te,ne,ae,re,ie,oe,ce,le,se,ue,me,de,pe,be,fe,he,ve,Ee,Oe,ge,je,we,ye,Ce,Se,xe,Ae,Ne,Pe,ke,De,Ie,ze,_e,Le,Re,Ue,Fe,Me,Te,qe,Ve,Be,Ge=function(e){return e.data},He=function(e){return P.a.get(e).then(Ge)},Ye=function(e,t){return P.a.post(e,t).then(Ge)},Je=function(e,t){return P.a.put(e,t).then(Ge)},Ze=function(e){return P.a.delete(e).then(Ge)},Ke={login:function(e){return Ye("/user/login",e)},register:function(e){return Ye("/user/register",e)},delete:function(e){return Ze("/user/".concat(e))},resetPassword:function(e){return Ye("/user/".concat(e,"/reset"),{})},listUsers:function(){return He("/users")},currentUser:function(){return He("/user")},updateAccount:function(e){return Je("/user",e)},changePassword:function(e,t){return Je("user/password",{oldPassword:e,newPassword:t})}},We={list:function(e){return P.a.get("/patients",{params:e}).then(Ge)},create:function(e){return Ye("/patients",e)},details:function(e){return He("/patients/".concat(e))},delete:function(e){return Ze("/patients/".concat(e))},update:function(e){return Je("/patients/".concat(e.id),e)}},Qe={list:function(e){return P.a.get("/appointments",{params:e}).then(Ge)},create:function(e){return Ye("/appointments",e)},details:function(e){return He("/appointments/".concat(e))},update:function(e){return Je("/appointments/".concat(e.id),e)},delete:function(e){return Ze("/appointments/".concat(e))},connectCondition:function(e,t){return Je("/appointments/".concat(e,"/conditions"),{Condition:t})},disconnectCondition:function(e,t){return Ze("/appointments/".concat(e,"/conditions/").concat(t))}},Xe={list:function(){return He("/doctors")}},$e={list:function(e,t){return He("/conditions?size=".concat(e,"&descending=").concat(t))}},et=(k=function(){function e(t){Object(E.a)(this,e),this.rootStore=void 0,Object(C.a)(this,"fetchingUsers",D,this),Object(C.a)(this,"users",I,this),Object(C.a)(this,"loadUsers",z,this),Object(C.a)(this,"register",_,this),Object(C.a)(this,"resetPassword",L,this),Object(C.a)(this,"deleteUser",R,this),this.rootStore=t}return Object(S.a)(e,[{key:"userOptions",get:function(){var e;return null===(e=this.users)||void 0===e?void 0:e.map((function(e){return{key:e.id,value:e.id,text:"".concat(e.firstName," ").concat(e.lastName," (").concat(e.username,")")}}))}}]),e}(),D=Object(x.a)(k.prototype,"fetchingUsers",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=Object(x.a)(k.prototype,"users",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(x.a)(k.prototype,"userOptions",[O.computed],Object.getOwnPropertyDescriptor(k.prototype,"userOptions"),k.prototype),z=Object(x.a)(k.prototype,"loadUsers",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(y.a)(w.a.mark((function t(){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.fetchingUsers=!0,t.next=4,Ke.listUsers();case 4:n=t.sent,Object(O.runInAction)((function(){e.users=n,e.fetchingUsers=!1})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),Object(O.runInAction)((function(){return e.fetchingUsers=!1})),A.b.error("Could not fetch users.");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))}}),_=Object(x.a)(k.prototype,"register",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(w.a.mark((function t(n){var a,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ke.register(n);case 3:a=t.sent,Object(O.runInAction)((function(){e.users=[].concat(Object(g.a)(e.users),[a])})),A.b.success("User created."),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),A.b.error(Object.values(null===t.t0||void 0===t.t0||null===(r=t.t0.data)||void 0===r?void 0:r.errors).join("\n"));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}}),L=Object(x.a)(k.prototype,"resetPassword",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=Object(y.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke.resetPassword(t);case 3:A.b.success("Password reseted."),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),A.b.error("Could not reset password.");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}}),R=Object(x.a)(k.prototype,"deleteUser",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ke.delete(n);case 3:Object(O.runInAction)((function(){e.users=e.users.filter((function(e){return e.id!==n}))})),A.b.success("User deleted."),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),A.b.error("Could not delete user.");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}}),k),tt=(U=function(){function e(t){var n=this;Object(E.a)(this,e),this.rootStore=void 0,Object(C.a)(this,"allAppointmentPredicate",F,this),Object(C.a)(this,"datePredicate",M,this),Object(C.a)(this,"fetchingAppointments",T,this),Object(C.a)(this,"appointments",q,this),Object(C.a)(this,"patients",V,this),Object(C.a)(this,"doctors",B,this),Object(C.a)(this,"appointment",G,this),Object(C.a)(this,"loadingAppointment",H,this),Object(C.a)(this,"updatingAppointment",Y,this),Object(C.a)(this,"loadingCondition",J,this),Object(C.a)(this,"deletingConditionId",Z,this),Object(C.a)(this,"setAllAppointmentPredicate",K,this),Object(C.a)(this,"setDatePredicate",W,this),Object(C.a)(this,"fetchAppointments",Q,this),Object(C.a)(this,"createAppointment",X,this),Object(C.a)(this,"loadAppointment",$,this),Object(C.a)(this,"updateAppointment",ee,this),Object(C.a)(this,"deleteAppointment",te,this),Object(C.a)(this,"connectCondtion",ne,this),Object(C.a)(this,"disconnectCondition",ae,this),this.rootStore=t,Object(O.reaction)((function(){return n.allAppointmentPredicate}),(function(){return n.fetchAppointments()})),Object(O.reaction)((function(){return n.datePredicate}),(function(){return n.fetchAppointments()}))}return Object(S.a)(e,[{key:"groupAppointmentsByDate",value:function(e){var t=e.slice().sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}));return Object.entries(t.reduce((function(e,t){var n=new Date(t.date).toISOString().split("T")[0];return e[n]=e[n]?[].concat(Object(g.a)(e[n]),[t]):[t],e}),{}))}},{key:"filterParams",get:function(){var e=new URLSearchParams;return e.append("allAppointments",this.allAppointmentPredicate),e.append("startDate",this.datePredicate.toISOString()),e}},{key:"appointmentsByDate",get:function(){return null!==this.appointments?this.groupAppointmentsByDate(this.appointments):null}}]),e}(),F=Object(x.a)(U.prototype,"allAppointmentPredicate",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"true"}}),M=Object(x.a)(U.prototype,"datePredicate",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Date}}),T=Object(x.a)(U.prototype,"fetchingAppointments",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q=Object(x.a)(U.prototype,"appointments",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=Object(x.a)(U.prototype,"patients",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=Object(x.a)(U.prototype,"doctors",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=Object(x.a)(U.prototype,"appointment",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=Object(x.a)(U.prototype,"loadingAppointment",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=Object(x.a)(U.prototype,"updatingAppointment",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=Object(x.a)(U.prototype,"loadingCondition",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=Object(x.a)(U.prototype,"deletingConditionId",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),Object(x.a)(U.prototype,"filterParams",[O.computed],Object.getOwnPropertyDescriptor(U.prototype,"filterParams"),U.prototype),K=Object(x.a)(U.prototype,"setAllAppointmentPredicate",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.allAppointmentPredicate=t}}}),W=Object(x.a)(U.prototype,"setDatePredicate",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.datePredicate=t}}}),Q=Object(x.a)(U.prototype,"fetchAppointments",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(y.a)(w.a.mark((function t(){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.fetchingAppointments=!0,t.next=4,Qe.list(e.filterParams);case 4:n=t.sent,Object(O.runInAction)((function(){e.appointments=n,e.fetchingAppointments=!1})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),Object(O.runInAction)((function(){e.fetchingAppointments=!1})),A.b.error("Could not fetch appointments.");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))}}),Object(x.a)(U.prototype,"appointmentsByDate",[O.computed],Object.getOwnPropertyDescriptor(U.prototype,"appointmentsByDate"),U.prototype),X=Object(x.a)(U.prototype,"createAppointment",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(w.a.mark((function t(n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Qe.create(n);case 3:a=t.sent,Object(O.runInAction)((function(){new Date(a.date)>=new Date(e.datePredicate)&&(e.appointments=[].concat(Object(g.a)(e.appointments),[a]))})),A.b.success("Created appointment."),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),A.b.error("Could not create appointment.");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}}),$=Object(x.a)(U.prototype,"loadAppointment",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(w.a.mark((function t(n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loadingAppointment=!0,t.next=4,Qe.details(n);case 4:a=t.sent,Object(O.runInAction)((function(){e.loadingAppointment=!1,e.appointment=a})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),Object(O.runInAction)((function(){e.loadingAppointment=!1})),A.b.error("Could not load appointment.");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}}),ee=Object(x.a)(U.prototype,"updateAppointment",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=Object(y.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qe.update(t);case 3:A.b.success("Appointment updated."),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),A.b.error("Could not update appointment.");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}}),te=Object(x.a)(U.prototype,"deleteAppointment",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Qe.delete(n);case 3:Object(O.runInAction)((function(){e.appointment=null})),Ln.replace("/appointments"),A.b.success("Appointment deleted."),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),A.b.error("Could not delete appointment.");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}}),ne=Object(x.a)(U.prototype,"connectCondtion",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(w.a.mark((function t(n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loadingCondition=!0,t.next=4,Qe.connectCondition(e.appointment.id,n);case 4:a=t.sent,Object(O.runInAction)((function(){var t;e.appointment.conditions=[].concat(Object(g.a)(null===(t=e.appointment)||void 0===t?void 0:t.conditions),[a]),e.loadingCondition=!1})),A.b.success("Added condition."),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),Object(O.runInAction)((function(){e.loadingCondition=!1})),A.b.error("Could not add condition.");case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}}),ae=Object(x.a)(U.prototype,"disconnectCondition",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.deletingConditionId=n,t.next=4,Qe.disconnectCondition(e.appointment.id,n);case 4:Object(O.runInAction)((function(){var t;e.appointment.conditions=null===(t=e.appointment.conditions)||void 0===t?void 0:t.filter((function(e){return e.id!==n})),e.deletingConditionId=-1,A.b.success("Condition deleted.")})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),Object(O.runInAction)((function(){e.deletingConditionId=-1})),A.b.error("Could not delete condition.");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}}),U),nt=(re=function e(t){var n=this;Object(E.a)(this,e),this.rootStore=void 0,Object(C.a)(this,"token",ie,this),Object(C.a)(this,"appLoaded",oe,this),Object(C.a)(this,"setToken",ce,this),Object(C.a)(this,"setAppLoaded",le,this),this.rootStore=t,Object(O.reaction)((function(){return n.token}),(function(e){e?window.localStorage.setItem("jwt",e):window.localStorage.removeItem("jwt")}))},ie=Object(x.a)(re.prototype,"token",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return window.localStorage.getItem("jwt")}}),oe=Object(x.a)(re.prototype,"appLoaded",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ce=Object(x.a)(re.prototype,"setToken",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.token=t}}}),le=Object(x.a)(re.prototype,"setAppLoaded",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.appLoaded=!0}}}),re),at=(se=function e(t){Object(E.a)(this,e),this.rootStore=void 0,Object(C.a)(this,"conditionStats",ue,this),Object(C.a)(this,"fetchingConditionStats",me,this),Object(C.a)(this,"upcommingAppointments",de,this),Object(C.a)(this,"fetchingAppointments",pe,this),Object(C.a)(this,"fetchConditionStats",be,this),Object(C.a)(this,"fetchUpcommingAppointments",fe,this),this.rootStore=t},ue=Object(x.a)(se.prototype,"conditionStats",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=Object(x.a)(se.prototype,"fetchingConditionStats",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),de=Object(x.a)(se.prototype,"upcommingAppointments",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=Object(x.a)(se.prototype,"fetchingAppointments",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),be=Object(x.a)(se.prototype,"fetchConditionStats",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(w.a.mark((function t(n,a){var r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.fetchingConditionStats=!0,t.next=4,$e.list(n,a);case 4:r=t.sent,Object(O.runInAction)((function(){e.conditionStats=r,e.fetchingConditionStats=!1})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),Object(O.runInAction)((function(){e.fetchingConditionStats=!1})),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()}}),fe=Object(x.a)(se.prototype,"fetchUpcommingAppointments",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(w.a.mark((function t(n){var a,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(a=new URLSearchParams).append("allAppointments","false"),a.append("status","Upcomming"),a.append("size",n.toString()),t.next=7,Qe.list(a);case 7:r=t.sent,Object(O.runInAction)((function(){e.upcommingAppointments=r,e.fetchingAppointments=!1})),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),Object(O.runInAction)((function(){e.fetchingAppointments=!1})),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}}),se),rt=(he=function e(t){Object(E.a)(this,e),this.rootStore=void 0,Object(C.a)(this,"doctors",ve,this),Object(C.a)(this,"fetchDoctors",Ee,this),this.rootStore=t},ve=Object(x.a)(he.prototype,"doctors",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=Object(x.a)(he.prototype,"fetchDoctors",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(y.a)(w.a.mark((function t(){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Xe.list();case 3:n=t.sent,Object(O.runInAction)((function(){e.doctors=n})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),A.b.error("Could not fetch doctors");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))}}),he),it=(Oe=O.observable.shallow,ge=function e(t){Object(E.a)(this,e),this.rootStore=void 0,Object(C.a)(this,"modal",je,this),Object(C.a)(this,"openModal",we,this),Object(C.a)(this,"closeModal",ye,this),this.rootStore=t},je=Object(x.a)(ge.prototype,"modal",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{open:!1,body:null}}}),we=Object(x.a)(ge.prototype,"openModal",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.modal.body=t,e.modal.open=!0}}}),ye=Object(x.a)(ge.prototype,"closeModal",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.modal.body=null,e.modal.open=!1}}}),ge),ot=(Ce=function(){function e(t){Object(E.a)(this,e),this.rootStore=void 0,Object(C.a)(this,"predicate",Se,this),Object(C.a)(this,"patients",xe,this),Object(C.a)(this,"fetchingPatients",Ae,this),Object(C.a)(this,"patient",Ne,this),Object(C.a)(this,"loadingPatient",Pe,this),Object(C.a)(this,"setPredicate",ke,this),Object(C.a)(this,"fetchPatients",De,this),Object(C.a)(this,"createPatient",Ie,this),Object(C.a)(this,"loadPatient",ze,this),Object(C.a)(this,"deletePatient",_e,this),Object(C.a)(this,"updatePatient",Le,this),this.rootStore=t}return Object(S.a)(e,[{key:"filterParams",get:function(){var e=new URLSearchParams;return this.predicate.forEach((function(t,n){e.append(n,t)})),e}}]),e}(),Se=Object(x.a)(Ce.prototype,"predicate",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),xe=Object(x.a)(Ce.prototype,"patients",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=Object(x.a)(Ce.prototype,"fetchingPatients",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ne=Object(x.a)(Ce.prototype,"patient",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=Object(x.a)(Ce.prototype,"loadingPatient",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ke=Object(x.a)(Ce.prototype,"setPredicate",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.predicate.set(t,n)}}}),Object(x.a)(Ce.prototype,"filterParams",[O.computed],Object.getOwnPropertyDescriptor(Ce.prototype,"filterParams"),Ce.prototype),De=Object(x.a)(Ce.prototype,"fetchPatients",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(y.a)(w.a.mark((function t(){var n,a,r,i=arguments;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]&&i[0],t.prev=1,e.fetchingPatients=!0,n&&e.predicate.clear(),a=e.filterParams,t.next=7,We.list(a);case 7:r=t.sent,Object(O.runInAction)((function(){e.patients=r,e.fetchingPatients=!1})),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),Object(O.runInAction)((function(){e.fetchingPatients=!1})),A.b.error("Could not fetch patients.");case 15:case"end":return t.stop()}}),t,null,[[1,11]])})))}}),Ie=Object(x.a)(Ce.prototype,"createPatient",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(w.a.mark((function t(n){var a,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,We.create(n);case 3:a=t.sent,Object(O.runInAction)((function(){e.patients=[].concat(Object(g.a)(e.patients),[a])})),A.b.success("Patient created."),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),A.b.error(Object.values(null===t.t0||void 0===t.t0||null===(r=t.t0.data)||void 0===r?void 0:r.errors).join("\n"));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}}),ze=Object(x.a)(Ce.prototype,"loadPatient",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(w.a.mark((function t(n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loadingPatient=!0,t.next=4,We.details(n);case 4:a=t.sent,Object(O.runInAction)((function(){e.patient=a,e.loadingPatient=!1})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),Object(O.runInAction)((function(){e.loadingPatient=!1})),Ln.push("/notfound");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}}),_e=Object(x.a)(Ce.prototype,"deletePatient",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,We.delete(n);case 3:Object(O.runInAction)((function(){e.patient=null})),Ln.replace("/patients"),A.b.success("Patient deleted."),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),A.b.error("Could not delete patient.");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}}),Le=Object(x.a)(Ce.prototype,"updatePatient",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,We.update(n);case 3:Object(O.runInAction)((function(){e.patient=n})),A.b.success("Patient updated."),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),A.b.error("Could not update patient.");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}}),Ce),ct=(Re=function(){function e(t){Object(E.a)(this,e),this.rootStore=void 0,Object(C.a)(this,"user",Ue,this),Object(C.a)(this,"changingPassword",Fe,this),Object(C.a)(this,"login",Me,this),Object(C.a)(this,"logout",Te,this),Object(C.a)(this,"getUser",qe,this),Object(C.a)(this,"updateAccount",Ve,this),Object(C.a)(this,"changePassword",Be,this),this.rootStore=t}return Object(S.a)(e,[{key:"isUserLoggedIn",get:function(){return null!==this.user}},{key:"isAdmin",get:function(){return this.user&&"Admin"===this.user.role}}]),e}(),Ue=Object(x.a)(Re.prototype,"user",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=Object(x.a)(Re.prototype,"changingPassword",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(x.a)(Re.prototype,"isUserLoggedIn",[O.computed],Object.getOwnPropertyDescriptor(Re.prototype,"isUserLoggedIn"),Re.prototype),Object(x.a)(Re.prototype,"isAdmin",[O.computed],Object.getOwnPropertyDescriptor(Re.prototype,"isAdmin"),Re.prototype),Me=Object(x.a)(Re.prototype,"login",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(w.a.mark((function t(n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ke.login(n);case 3:a=t.sent,Object(O.runInAction)((function(){e.user=a})),e.rootStore.commonStore.setToken(a.token),Ln.push("/dashboard"),t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}}),Te=Object(x.a)(Re.prototype,"logout",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){try{e.rootStore.commonStore.setToken(null),e.user=null,Ln.push("/")}catch(t){console.log(t)}}}}),qe=Object(x.a)(Re.prototype,"getUser",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(y.a)(w.a.mark((function t(){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ke.currentUser();case 3:n=t.sent,Object(O.runInAction)((function(){e.user=n})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))}}),Ve=Object(x.a)(Re.prototype,"updateAccount",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ke.updateAccount(n);case 3:Object(O.runInAction)((function(){e.user=n})),A.b.success("Account updated."),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),A.b.error("Could not update account.");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}}),Be=Object(x.a)(Re.prototype,"changePassword",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(y.a)(w.a.mark((function t(n,a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.changingPassword=!0,t.next=4,Ke.changePassword(n,a);case 4:Object(O.runInAction)((function(){e.changingPassword=!1})),A.b.success("Password changed."),t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(0),Object(O.runInAction)((function(){e.changingPassword=!1})),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()}}),Re);Object(O.configure)({enforceActions:"always"});var lt=Object(a.createContext)(new function e(){Object(E.a)(this,e),this.userStore=void 0,this.commonStore=void 0,this.adminStore=void 0,this.modalStore=void 0,this.patientStore=void 0,this.appointmentStore=void 0,this.doctorStore=void 0,this.dashboardStore=void 0,this.userStore=new ct(this),this.commonStore=new nt(this),this.adminStore=new et(this),this.modalStore=new it(this),this.patientStore=new ot(this),this.appointmentStore=new tt(this),this.doctorStore=new rt(this),this.dashboardStore=new at(this)}),st=n(8),ut=n(101),mt=n(12),dt=Object(mt.a)((function(){var e=Object(a.useContext)(lt).userStore.login,t=Object(st.combineValidators)({email:Object(st.isRequired)("Email"),password:Object(st.isRequired)("Password")});return r.a.createElement("div",{className:"homePage"},r.a.createElement(s.a,{padded:"very"},r.a.createElement(u.a,{as:"h1",icon:!0,textAlign:"center"},r.a.createElement(m.a,{name:"user doctor",circular:!0}),r.a.createElement(u.a.Content,{style:{padding:"0px 30px"}},"Medical Center")),r.a.createElement(s.a,{padded:!0},r.a.createElement(f.b,{onSubmit:function(t){return e(t).catch((function(e){return Object(l.a)({},ut.a,e)}))},validate:t,render:function(e){var t=e.handleSubmit,n=e.submitting,a=e.invalid,i=e.submitError,o=e.pristine,c=e.dirtySinceLastSubmit;return r.a.createElement(d.a,{onSubmit:t},r.a.createElement(f.a,{name:"email",component:v,placeholder:"Email"}),r.a.createElement(f.a,{name:"password",component:v,placeholder:"Password",type:"password"}),i&&!c&&r.a.createElement(p.a,null,r.a.createElement(p.a.Content,{content:"Invalid email or password"})),r.a.createElement(b.a,{fluid:!0,content:"Login",loading:n,disabled:a&&!c||o||n}))}}))))})),pt=n(33),bt=(n(480),Object(mt.a)((function(){var e=Object(a.useContext)(lt).userStore.isAdmin;return r.a.createElement("div",{className:"leftSidebar"},r.a.createElement("div",{className:"leftSidebar__logo"},r.a.createElement(u.a,{as:"h2",icon:!0,textAlign:"center",inverted:!0},r.a.createElement(m.a,{name:"user doctor",circular:!0}),r.a.createElement(u.a.Content,null,"Medical Center"))),r.a.createElement("div",{className:"leftSidebar__items"},r.a.createElement(pt.b,{to:"/dashboard"},r.a.createElement("div",{className:"leftSidebar__item"},r.a.createElement(m.a,{name:"grid layout",size:"large",className:"leftSidebar__icon"}),r.a.createElement("h3",{className:"leftSidebar__caption"},"Dashboard"))),r.a.createElement(pt.b,{to:"/patients",className:"leftSidebar__item"},r.a.createElement(m.a,{name:"users",size:"large",className:"leftSidebar__icon"}),r.a.createElement("h3",{className:"leftSidebar__caption"},"Patients")),r.a.createElement(pt.b,{to:"/appointments",className:"leftSidebar__item"},r.a.createElement(m.a,{name:"calendar alternate outline",size:"large",className:"leftSidebar__icon"}),r.a.createElement("h3",{className:"leftSidebar__caption"},"Appointments")),e&&r.a.createElement(pt.b,{to:"/admin",className:"leftSidebar__item"},r.a.createElement(m.a,{name:"user secret",size:"large",className:"leftSidebar__icon"}),r.a.createElement("h3",{className:"leftSidebar__caption"},"Admin"))))}))),ft=(n(482),n(577)),ht=n(309),vt=n(310),Et=function(e){var t,n,a,i,o,c,l,s,u,d,p=e.appointment,b="https://react.semantic-ui.com/images/avatar/large/"+("Male"===(null===(t=p.patient)||void 0===t?void 0:t.gender)?"matthew.png":"molly.png");return(null===(n=p.patient)||void 0===n?void 0:n.id)?r.a.createElement(ft.a,{as:pt.a,to:"/appointments/".concat(p.id)},r.a.createElement(ft.a.Content,null,console.log(null===(a=p.patient)||void 0===a?void 0:a.id),!!(null===(i=p.patient)||void 0===i?void 0:i.id)&&r.a.createElement(r.a.Fragment,null,console.log("EZZ2"),r.a.createElement(vt.a,{floated:"right",size:"mini",circular:!0,src:b}),r.a.createElement(ft.a.Header,{as:pt.a,to:"/patients/".concat(null===(o=p.patient)||void 0===o?void 0:o.id)},null===(c=p.patient)||void 0===c?void 0:c.firstName," ",null===(l=p.patient)||void 0===l?void 0:l.lastName),r.a.createElement(ft.a.Meta,null,r.a.createElement(m.a,{name:null===(s=p.patient)||void 0===s?void 0:s.gender.toLowerCase()}),"Birth: ".concat(Object(ht.a)(new Date(null===(u=p.patient)||void 0===u?void 0:u.birthDate),"yyyy.MM.dd")," (").concat((new Date).getFullYear()-new Date(null===(d=p.patient)||void 0===d?void 0:d.birthDate).getFullYear()," yrs old) ")," ")),r.a.createElement(ft.a.Description,null,r.a.createElement("strong",null,"Reason: "),p.reason)),!!p.date&&r.a.createElement(ft.a.Content,{extra:!0},r.a.createElement(m.a,{name:"calendar check outline"}),Object(ht.a)(new Date(p.date),"hh:mm dd.MM.yyyy"))):r.a.createElement(ft.a,null,r.a.createElement(ft.a.Content,null,"LUL"))},Ot=Object(mt.a)((function(){var e=Object(a.useContext)(lt).dashboardStore,t=e.upcommingAppointments,n=e.fetchUpcommingAppointments;return Object(a.useEffect)((function(){n(3)}),[n]),r.a.createElement("div",{className:"dashboard__appointments"},r.a.createElement(u.a,{as:"h1"},"Upcomming Appointments"),r.a.createElement(ft.a.Group,{itemsPerRow:3},null===t||void 0===t?void 0:t.map((function(e){return r.a.createElement(Et,{key:e.id,appointment:e})}))))})),gt=n(579),jt=Object(mt.a)((function(){var e=Object(a.useContext)(lt).dashboardStore,t=e.fetchConditionStats,n=e.fetchingConditionStats,i=e.conditionStats;return Object(a.useEffect)((function(){t(5,!0)}),[t]),r.a.createElement("div",{className:"dashboard__statistics"},r.a.createElement(u.a,{as:"h1"},"Condition Statistics"),r.a.createElement(s.a,{style:{marginTop:"0"},loading:n},r.a.createElement("div",{className:"dashboard__conditions"},null===i||void 0===i?void 0:i.map((function(e){return r.a.createElement(gt.a,{key:e.name},r.a.createElement(gt.a.Value,null,e.count),r.a.createElement(gt.a.Label,null,e.name))})))))})),wt=Object(mt.a)((function(){var e=Object(a.useContext)(lt).userStore.user;return r.a.createElement("div",{className:"dashboard__message"},r.a.createElement(u.a,{as:"h1"},"Welcome Back!",r.a.createElement(u.a.Subheader,null,null===e||void 0===e?void 0:e.firstName," ",null===e||void 0===e?void 0:e.lastName," ",r.a.createElement("span",{role:"img","aria-label":"hands"},"\ud83d\udc4b"))),r.a.createElement("img",{className:"dashboard__image",src:"./assets/doctors.png",alt:"doctors-cartoon"}))})),yt=function(){return r.a.createElement("div",{className:"dashboard"},r.a.createElement(wt,null),r.a.createElement(Ot,null),r.a.createElement(jt,null))},Ct=(n(483),n(25)),St=n(570),xt=Object(mt.a)((function(){var e=Object(a.useContext)(lt).patientStore,t=e.setPredicate,n=e.fetchPatients,i=e.fetchingPatients,o=Object(a.useState)(""),c=Object(Ct.a)(o,2),l=c[0],s=c[1],u=Object(a.useState)(""),m=Object(Ct.a)(u,2),p=m[0],f=m[1],h=Object(a.useState)(""),v=Object(Ct.a)(h,2),E=v[0],O=v[1];return r.a.createElement(d.a,{className:"patientFilters"},r.a.createElement(d.a.Group,{widths:"equal"},r.a.createElement(d.a.Field,null,r.a.createElement(St.a,{fluid:!0,placeholder:"Pesel",icon:"search",value:l,onChange:function(e){return s(e.currentTarget.value)}})),r.a.createElement(d.a.Field,null,r.a.createElement(St.a,{fluid:!0,placeholder:"Last name",icon:"search",value:p,onChange:function(e){return f(e.currentTarget.value)}})),r.a.createElement(d.a.Field,null,r.a.createElement(St.a,{fluid:!0,placeholder:"First name",icon:"search",value:E,onChange:function(e){return O(e.currentTarget.value)}})),r.a.createElement(b.a,{content:"Search",onClick:function(){t("pesel",l),t("lastName",p),t("firstName",E),n()},loading:i})))})),At=(n(484),function(e){var t=e.content,n=e.onClick;return r.a.createElement("div",{className:"aquaButton",onClick:n},t)}),Nt=n(575),Pt=[{key:"male",text:"Male",value:"Male"},{key:"female",text:"Female",value:"Female"},{key:"other",text:"Other",value:"Other"}],kt=n(571),Dt=function(e){var t=e.input,n=e.width,a=e.options,i=e.readOnly,o=e.label,c=e.placeholder,l=e.meta,s=l.touched,u=l.error;return r.a.createElement(d.a.Field,{error:s&&!!u,width:n},o&&r.a.createElement("label",null,o),r.a.createElement(kt.a,{value:t.value,disabled:i,onChange:function(e,n){return t.onChange(n.value)},placeholder:c,options:a}),s&&u&&r.a.createElement(h.a,{basic:!0,color:"red",style:{margin:0,padding:"10px",display:"flex"}},u))},It=n(202),zt=n(195),_t=function(e){e.id;var t=e.label,n=e.input,a=e.width,i=e.date,o=void 0!==i&&i,c=e.time,l=void 0!==c&&c,s=e.readOnly,u=e.placeholder,m=e.meta,p=m.touched,b=m.error,f=Object(It.a)(e,["id","label","input","width","date","time","readOnly","placeholder","meta"]);return r.a.createElement(d.a.Field,{error:p&&!!b,width:a},t&&r.a.createElement("label",null,t),r.a.createElement(zt.DateTimePicker,Object.assign({date:o,time:l,placeholder:u,disabled:s,value:""===n.value?void 0:new Date(n.value),onChange:n.onChange,onBlur:n.onBlur,onKeyDown:function(e){return e.preventDefault()}},f)),p&&b&&r.a.createElement(h.a,{basic:!0,color:"red"},b))},Lt=function(e,t){var n=e.toISOString().split("T")[0],a=t.toISOString().split("T")[1];return new Date(n+"T"+a)},Rt=function(){var e=Object(a.useContext)(lt).patientStore.createPatient,t=Object(st.combineValidators)({firstName:Object(st.composeValidators)(st.isRequired,st.isAlphabetic)("First Name"),lastName:Object(st.composeValidators)(st.isRequired,st.isAlphabetic)("Last Name"),pesel:Object(st.composeValidators)(st.isRequired,st.isNumeric)("Pesel")});return r.a.createElement(Nt.a.Content,null,r.a.createElement(u.a,{as:"h1"},"New Patient"),r.a.createElement(f.b,{validate:t,onSubmit:function(t){return t.birthDate=Lt(t.birthDate,t.birthDate),e(t)},render:function(e){var t=e.handleSubmit,n=e.submitting,a=e.invalid,i=e.pristine,o=e.dirtySinceLastSubmit;return r.a.createElement(d.a,{onSubmit:t},r.a.createElement(f.a,{component:v,label:"First Name",name:"firstName",placeholder:"First Name"}),r.a.createElement(f.a,{component:v,label:"Last Name",name:"lastName",placeholder:"Last Name"}),r.a.createElement(f.a,{component:_t,label:"Birth Date",date:!0,name:"birthDate",placeholder:"Birth Date"}),r.a.createElement(f.a,{component:v,label:"Pesel",name:"pesel",placeholder:"Pesel"}),r.a.createElement(f.a,{component:Dt,label:"Gender",name:"gender",placeholder:"Gender",options:Pt}),r.a.createElement(b.a,{color:"blue",content:"Create",fluid:!0,loading:n,disabled:a&&!o||i}))}}))},Ut=Object(mt.a)((function(){var e=Object(a.useContext)(lt).modalStore.openModal;return r.a.createElement("div",{className:"patientHeader"},r.a.createElement("h1",null,"Patients"),r.a.createElement(At,{content:"+",onClick:function(){return e(r.a.createElement(Rt,null))}}))})),Ft=n(576),Mt=Object(mt.a)((function(){var e=Object(a.useContext)(lt).patientStore.patients;return r.a.createElement("div",{className:"patientTable"},r.a.createElement(Ft.a,{celled:!0,padded:!0,selectable:!0,sortable:!0},r.a.createElement(Ft.a.Header,null,r.a.createElement(Ft.a.Row,null,r.a.createElement(Ft.a.HeaderCell,{width:3,singleLine:!0},"Pesel"),r.a.createElement(Ft.a.HeaderCell,{width:4,singleLine:!0},"Last Name"),r.a.createElement(Ft.a.HeaderCell,{width:4,singleLine:!0},"First Name"),r.a.createElement(Ft.a.HeaderCell,{width:1,singleLine:!0},"Gender"),r.a.createElement(Ft.a.HeaderCell,{width:4,singleLine:!0},"Date of birth"))),r.a.createElement(Ft.a.Body,null,null===e||void 0===e?void 0:e.map((function(e){return r.a.createElement(Ft.a.Row,{style:{cursor:"pointer"},key:e.id,onClick:function(){return t=e.id,void Ln.push("/patients/".concat(t));var t}},r.a.createElement(Ft.a.Cell,{singleLine:!0},r.a.createElement(u.a,{as:"h4"},e.pesel)),r.a.createElement(Ft.a.Cell,{singleLine:!0},e.lastName),r.a.createElement(Ft.a.Cell,{singleLine:!0},e.firstName),r.a.createElement(Ft.a.Cell,{singleLine:!0,textAlign:"center"},r.a.createElement(m.a,{name:"Other"===e.gender?"other gender":e.gender.toLowerCase(),size:"large"})),r.a.createElement(Ft.a.Cell,null,Object(ht.a)(new Date(e.birthDate.toString()),"yyyy-MM-dd")))})))))})),Tt=function(){var e=Object(a.useContext)(lt).patientStore.fetchPatients;return Object(a.useEffect)((function(){e(!0)}),[e]),r.a.createElement("div",{className:"patientDashboard"},r.a.createElement(Ut,null),r.a.createElement(xt,null),r.a.createElement(Mt,null))},qt=(n(533),n(308)),Vt=Object(mt.a)((function(){var e=Object(a.useContext)(lt).appointmentStore,t=e.setDatePredicate,n=e.datePredicate,i=e.allAppointmentPredicate,o=e.setAllAppointmentPredicate;return r.a.createElement("div",{className:"appointmentFilters"},r.a.createElement(qt.a,{vertical:!0,size:"large",style:{width:"100%"}},r.a.createElement(u.a,{icon:"filter",attached:!0,style:{color:"rgb(31, 41, 90)"},content:"Filters"}),r.a.createElement(qt.a.Item,{color:"blue",name:"all",content:"All Appointments",onClick:function(){return o("true")},active:"true"===i}),r.a.createElement(qt.a.Item,{color:"blue",name:"host",content:"My Appointments",onClick:function(){return o("false")},active:"false"===i})),r.a.createElement(qt.a,{vertical:!0,size:"large",style:{width:"100%"}},r.a.createElement(u.a,{style:{color:"rgb(31, 41, 90)"},icon:"calendar",attached:!0,content:"Pick a start date"}),r.a.createElement(zt.Calendar,{onChange:function(e){return t(e)},value:n})))})),Bt=n(574),Gt=n(311),Ht={Upcomming:"green",Rejected:"red",Completed:"olive"},Yt=function(e){var t,n,a,i,o,c,l,d,p=e.appointment;return r.a.createElement(pt.a,{to:"/appointments/".concat(p.id)},r.a.createElement(s.a,{style:{marginBottom:"10px"}},r.a.createElement(Gt.a,{columns:2,verticalAlign:"middle"},r.a.createElement(Gt.a.Column,null,r.a.createElement(h.a,{color:Ht[p.status],horizontal:!0,style:{margin:0}},p.status),r.a.createElement(u.a,{as:"h3",style:{margin:"10px 0px 0px 0px"}},r.a.createElement(m.a,{name:"clock outline"}),Object(ht.a)(new Date(p.date),"h:mm a")),r.a.createElement(u.a,{as:"h3",style:{margin:"7px 0px 0px 0px"}},r.a.createElement(m.a,{name:"user md"}),null===(t=p.doctor)||void 0===t?void 0:t.firstName," ",null===(n=p.doctor)||void 0===n?void 0:n.lastName)),r.a.createElement(Gt.a.Column,null,r.a.createElement(Bt.a.Group,null,r.a.createElement(Bt.a,null,r.a.createElement(Bt.a.Image,{size:"tiny",circular:!0,src:"https://react.semantic-ui.com/images/avatar/large/".concat("Male"===(null===(a=p.patient)||void 0===a?void 0:a.gender)?"matthew":"molly",".png")}),r.a.createElement(Bt.a.Content,null,r.a.createElement(Bt.a.Header,{as:pt.a,to:"/patients/".concat(null===(i=p.patient)||void 0===i?void 0:i.id)},null===(o=p.patient)||void 0===o?void 0:o.firstName," ",null===(c=p.patient)||void 0===c?void 0:c.lastName),r.a.createElement(Bt.a.Extra,{style:{marginTop:2}},r.a.createElement("strong",null,"Gender:"),null===(l=p.patient)||void 0===l?void 0:l.gender),r.a.createElement(Bt.a.Extra,{style:{marginTop:1}},r.a.createElement("strong",null,"Age:"),(new Date).getFullYear()-new Date((null===(d=p.patient)||void 0===d?void 0:d.birthDate)||new Date).getFullYear()),r.a.createElement(Bt.a.Extra,{style:{marginTop:1}},r.a.createElement("strong",null,"Reason:"),function(e,t){var n=t>(null===e||void 0===e?void 0:e.length)?(null===e||void 0===e?void 0:e.length)||0:t;return(null===e||void 0===e?void 0:e.substr(0,n))+"..."}(p.reason,15)))))))))},Jt=n(580),Zt=n(572),Kt=function(e){var t=e.inverted,n=void 0===t||t,a=e.content;return r.a.createElement(Jt.a,{active:!0,inverted:n},r.a.createElement(Zt.a,{content:a}))},Wt=Object(mt.a)((function(){var e=Object(a.useContext)(lt).appointmentStore,t=e.appointmentsByDate;return e.fetchingAppointments?r.a.createElement(Kt,{content:"loading"}):r.a.createElement("div",{className:"appointmentList"},null===t||void 0===t?void 0:t.map((function(e){var t=Object(Ct.a)(e,2),n=t[0],i=t[1];return r.a.createElement(a.Fragment,{key:n},r.a.createElement(h.a,{size:"large",color:"blue",style:{marginTop:"15px"}},Object(ht.a)(new Date(n),"eeee do MMMM yyyy")),r.a.createElement(Bt.a.Group,{divided:!0},null===i||void 0===i?void 0:i.map((function(e){return r.a.createElement(Yt,{appointment:e,key:e.id})}))))})))})),Qt=n(306),Xt=n(149),$t=function(e){var t=e.input,n=e.width,a=e.options,i=e.readOnly,o=e.label,c=e.search,l=e.selection,s=e.placeholder,u=e.meta,m=u.touched,p=u.error;return r.a.createElement(d.a.Field,{error:m&&!!p,width:n},o&&r.a.createElement("label",null,o),r.a.createElement(Xt.a,{value:t.value,disabled:i,onChange:function(e,n){return t.onChange(n.value)},placeholder:s,options:a,search:c,selection:l}),m&&p&&r.a.createElement(h.a,{basic:!0,color:"red",style:{margin:0,padding:"10px",display:"flex"}},p))},en=function(e){var t=e.input,n=e.width,a=e.rows,i=e.label,o=e.readOnly,c=void 0!==o&&o,l=e.placeholder,s=e.meta,u=s.touched,m=s.error;return r.a.createElement(d.a.Field,{error:u&&!!m,width:n},i&&r.a.createElement("label",null,i),r.a.createElement("textarea",Object.assign({rows:a},t,{placeholder:l,disabled:c})),u&&m&&r.a.createElement(h.a,{basic:!0,color:"red"},m))},tn=Object(mt.a)((function(){var e=Object(a.useContext)(lt).appointmentStore.createAppointment,t=Object(a.useState)([]),n=Object(Ct.a)(t,2),i=n[0],o=n[1];Object(a.useEffect)((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe.list();case 2:t=e.sent,o(null===t||void 0===t?void 0:t.map((function(e){return{key:e.id,value:e.id,text:"".concat(e.firstName," ").concat(e.lastName)}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var c=Object(a.useState)([]),l=Object(Ct.a)(c,2),s=l[0],m=l[1];Object(a.useEffect)((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We.list(null);case 2:t=e.sent,m(null===t||void 0===t?void 0:t.map((function(e){return{key:e.id,value:e.id,text:"".concat(e.firstName," ").concat(e.lastName)}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var p=Object(st.combineValidators)({doctorId:Object(st.isRequired)("Doctor"),patientId:Object(st.isRequired)("Patient"),date:Object(st.isRequired)("Date"),time:Object(st.isRequired)("Time")});return r.a.createElement(Nt.a.Content,null,r.a.createElement(u.a,{as:"h1"},"New Appointment"),r.a.createElement(f.b,{validate:p,onSubmit:function(t){var n=Object(Qt.a)({},t);return console.log(n),n.date=Lt(t.date,t.time),e(n)},render:function(e){var t=e.handleSubmit,n=e.submitting,a=e.invalid,o=e.pristine,c=e.dirtySinceLastSubmit;return r.a.createElement(d.a,{onSubmit:t},r.a.createElement(f.a,{component:$t,label:"Doctor",name:"doctorId",options:i,placeholder:"Choose doctor",search:!0,selection:!0}),r.a.createElement(f.a,{component:$t,label:"Patient",name:"patientId",options:s,placeholder:"Choose patient",search:!0,selection:!0}),r.a.createElement(f.a,{component:_t,label:"Date",date:!0,name:"date",placeholder:"Date"}),r.a.createElement(f.a,{component:_t,label:"Time",time:!0,name:"time",placeholder:"Time"}),r.a.createElement(f.a,{component:en,label:"Reason",rows:3,name:"reason",placeholder:"Reason"}),r.a.createElement(b.a,{color:"blue",content:"Create",disabled:a&&!c||o,fluid:!0,loading:n}))}}))})),nn=function(){var e=Object(a.useContext)(lt).modalStore.openModal;return r.a.createElement("div",{className:"appointmentHeader"},r.a.createElement("h1",null,"Appointments"),r.a.createElement(At,{content:"+",onClick:function(){return e(r.a.createElement(tn,null))}}))},an=function(){var e=Object(a.useContext)(lt).appointmentStore.fetchAppointments;return Object(a.useEffect)((function(){e()}),[e]),r.a.createElement("div",{className:"appointmentDashboard"},r.a.createElement(nn,null),r.a.createElement("div",{className:"appointmentDashboard__content"},r.a.createElement(Wt,null),r.a.createElement(Vt,null)))},rn=(n(534),Object(mt.a)((function(){var e=Object(a.useContext)(lt).adminStore.register,t=Object(st.combineValidators)({firstName:Object(st.composeValidators)(st.isRequired,st.isAlphabetic)("First Name"),lastName:Object(st.composeValidators)(st.isRequired,st.isAlphabetic)("Last Name"),email:Object(st.composeValidators)(st.isRequired)("Email"),birthDate:Object(st.isRequired)("Birth Date"),pesel:Object(st.composeValidators)(st.isRequired,st.isNumeric)("Pesel"),gender:Object(st.composeValidators)(st.isRequired)("Gender")});return r.a.createElement("div",{className:"newUserForm"},r.a.createElement(s.a,null,r.a.createElement(u.a,{as:"h1"},"New Doctor"),r.a.createElement(f.b,{validate:t,onSubmit:function(t){return t.birthDate=Lt(t.birthDate,t.birthDate),e(t)},render:function(e){var t=e.handleSubmit,n=e.submitting,a=e.invalid,i=e.pristine,o=e.dirtySinceLastSubmit;return r.a.createElement(d.a,{onSubmit:t},r.a.createElement(f.a,{component:v,label:"First Name",name:"firstName",placeholder:"First Name"}),r.a.createElement(f.a,{component:v,label:"Last Name",name:"lastName",placeholder:"Last Name"}),r.a.createElement(f.a,{component:v,label:"Email",name:"email",placeholder:"Email"}),r.a.createElement(f.a,{component:_t,label:"Birth Date",date:!0,name:"birthDate",placeholder:"Birth Date"}),r.a.createElement(f.a,{component:v,label:"Pesel",name:"pesel",placeholder:"Pesel"}),r.a.createElement(f.a,{component:Dt,label:"Gender",name:"gender",placeholder:"Gender",options:Pt}),r.a.createElement(b.a,{color:"blue",content:"Create",fluid:!0,loading:n,disabled:a&&!o||i}))}})))}))),on=function(e){var t=e.header,n=e.message,i=e.callback,o=Object(a.useContext)(lt).modalStore.closeModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nt.a.Header,null,t),r.a.createElement(Nt.a.Content,null,n),r.a.createElement(Nt.a.Actions,null,r.a.createElement(b.a,{color:"green",onClick:i},r.a.createElement(m.a,{name:"remove"})," Yes"),r.a.createElement(b.a,{color:"red",onClick:o},r.a.createElement(m.a,{name:"checkmark"})," No")))},cn=Object(mt.a)((function(){var e=Object(a.useContext)(lt),t=e.adminStore,n=t.loadUsers,i=t.fetchingUsers,o=t.userOptions,c=t.resetPassword,l=t.deleteUser,m=e.modalStore,d=m.openModal,p=m.closeModal,f=Object(a.useRef)(null);Object(a.useEffect)((function(){n()}),[n]);return r.a.createElement("div",{className:"userActions"},r.a.createElement(s.a,null,r.a.createElement(u.a,{as:"h1"},"User Actions"),r.a.createElement(Xt.a,{options:o,fluid:!0,placeholder:"Choose User",ref:f,loading:i,search:!0}),r.a.createElement(b.a.Group,{widths:4,style:{marginTop:20}},r.a.createElement(b.a,{content:"Reset Password",fluid:!0,onClick:function(){var e,t,n=null===f||void 0===f||null===(e=f.current)||void 0===e||null===(t=e.state)||void 0===t?void 0:t.value;n&&d(r.a.createElement(on,{header:"Confirmation",message:"Are you sure you want to reset password?",callback:function(){c(n),p()}}))}}),r.a.createElement(b.a.Or,null),r.a.createElement(b.a,{content:"Delete User",fluid:!0,color:"red",onClick:function(){var e,t,n=null===f||void 0===f||null===(e=f.current)||void 0===e||null===(t=e.state)||void 0===t?void 0:t.value;n&&d(r.a.createElement(on,{header:"Confirmation",message:"Are you sure you want to delete this user?",callback:function(){l(n),p()}}))}}))))})),ln=function(){return r.a.createElement("div",{className:"adminDashboard"},r.a.createElement(rn,null),r.a.createElement(cn,null))},sn=Object(mt.a)((function(e){var t=e.component,n=Object(It.a)(e,["component"]),i=Object(a.useContext)(lt).userStore.isUserLoggedIn;return r.a.createElement(c.b,Object.assign({},n,{render:function(e){return i?r.a.createElement(t,e):r.a.createElement(c.a,{to:"/"})}}))})),un=Object(mt.a)((function(){var e=Object(a.useContext)(lt).userStore,t=e.user,n=e.logout;return r.a.createElement("div",{className:"app__avatar"},t&&r.a.createElement(Xt.a,{text:t.displayName,pointing:"top right"},r.a.createElement(Xt.a.Menu,null,r.a.createElement(Xt.a.Item,{as:pt.a,to:"/settings"},"Settings"),r.a.createElement(Xt.a.Item,{onClick:n},"Logout"))))})),mn=Object(mt.a)((function(){var e=Object(a.useContext)(lt).modalStore,t=e.modal,n=t.body,i=t.open,o=e.closeModal;return r.a.createElement(Nt.a,{open:i,onClose:o},n)})),dn=n(585),pn=Object(mt.a)((function(){var e=Object(a.useContext)(lt).patientStore.patient.appointments;return r.a.createElement("div",{className:"patientDetailedAppointments__container"},e.map((function(e){var t,n,a;return r.a.createElement(pt.a,{to:"/appointments/".concat(e.id),key:e.id},r.a.createElement(s.a.Group,{style:{cursor:"pointer",marginBottom:"10px"},key:e.id},r.a.createElement(s.a,null,r.a.createElement(Gt.a,{columns:3},r.a.createElement(Gt.a.Column,null,r.a.createElement(u.a,{as:"h3",style:{margin:0}},r.a.createElement(m.a,{name:"clock outline"}),r.a.createElement(u.a.Content,null,Object(ht.a)(new Date(e.date),"h:mm a")))),r.a.createElement(Gt.a.Column,null,r.a.createElement(u.a,{as:"h3",style:{margin:0}},r.a.createElement(m.a,{name:"calendar alternate outline"}),r.a.createElement(u.a.Content,null,Object(ht.a)(new Date(e.date),"dd-MM-yyyy")))),r.a.createElement(Gt.a.Column,null,r.a.createElement(h.a,{color:Ht[e.status],horizontal:!0},e.status)))),r.a.createElement(s.a,null,r.a.createElement(Gt.a,{columns:4},r.a.createElement(Gt.a.Column,null,r.a.createElement(u.a,{as:"h4",sub:!0},"Doctor:"),r.a.createElement("span",null,null===(t=e.doctor)||void 0===t?void 0:t.firstName," ",null===(n=e.doctor)||void 0===n?void 0:n.lastName)),r.a.createElement(Gt.a.Column,null,r.a.createElement(u.a,{as:"h4",sub:!0},"Reason:"),r.a.createElement("span",null,e.reason)),r.a.createElement(Gt.a.Column,null,r.a.createElement(u.a,{as:"h4",sub:!0},"Description:"),r.a.createElement("span",null,e.description)),r.a.createElement(Gt.a.Column,null,r.a.createElement(u.a,{as:"h4",sub:!0},"Conditions:"),r.a.createElement(h.a.Group,{color:"black",size:"mini"},null===(a=e.conditions)||void 0===a?void 0:a.map((function(e){return r.a.createElement(h.a,{as:"a"},e.name)}))))))))})))})),bn=n(584),fn=Object(mt.a)((function(){var e=Object(a.useContext)(lt).patientStore,t=e.patient,n=e.updatePatient,i=Object(a.useState)(!1),o=Object(Ct.a)(i,2),c=o[0],l=o[1],s=Object(st.combineValidators)({firstName:Object(st.composeValidators)(st.isRequired,st.isAlphabetic)("First Name"),lastName:Object(st.composeValidators)(st.isRequired,st.isAlphabetic)("Last Name"),pesel:Object(st.composeValidators)(st.isRequired,st.isNumeric)("Pesel")});return r.a.createElement(dn.a.Pane,null,r.a.createElement("div",{className:"patientDetailedData"},r.a.createElement("div",{className:"patientDetailedData__header"},r.a.createElement(u.a,{as:"h4",style:{margin:0}},"Mode:"),r.a.createElement(u.a,{as:"h4",color:"grey",style:{margin:"0",marginLeft:"3px"}},c?"Edit":"Display"),r.a.createElement(bn.a,{toggle:!0,style:{marginLeft:"auto"},onChange:function(){return l(!c)},checked:c})),t&&r.a.createElement("div",{className:"patientDetailedData__info"},r.a.createElement(f.b,{validate:s,initialValues:t,onSubmit:function(e){return n(e)},render:function(e){var n=e.handleSubmit,a=e.submitting,i=e.invalid,o=e.pristine,l=e.dirtySinceLastSubmit;return r.a.createElement(d.a,{onSubmit:n},r.a.createElement(f.a,{component:v,label:"Pesel",value:t.pesel,readOnly:!c,name:"pesel",placeholder:"Pesel"}),r.a.createElement(f.a,{component:v,label:"First Name",value:t.firstName,readOnly:!c,name:"firstName",placeholder:"First Name"}),r.a.createElement(f.a,{component:v,label:"Last Name",value:t.lastName,readOnly:!c,name:"lastName",placeholder:"Last Name"}),r.a.createElement(f.a,{component:_t,label:"Birth Date",value:new Date(t.birthDate),readOnly:!c,date:!0,time:!1,name:"birthDate",placeholder:"Birth Date"}),r.a.createElement(f.a,{component:Dt,label:"Gender",value:t.gender,readOnly:!c,name:"gender",placeholder:"Gender",options:Pt}),c?r.a.createElement(b.a,{color:"blue",disabled:i&&!l||o,loading:a,content:"Update",fluid:!0}):r.a.createElement("div",null))}}))))})),hn=(n(535),[{menuItem:{content:"Details",icon:"user"},render:function(){return r.a.createElement(fn,null)}},{menuItem:{content:"Appointments",icon:"calendar"},render:function(){return r.a.createElement(pn,null)}}]),vn=Object(mt.a)((function(e){var t=e.match,n=Object(a.useContext)(lt),i=n.patientStore,o=i.loadPatient,c=i.patient,l=i.deletePatient,s=n.modalStore,d=s.openModal,p=s.closeModal;return Object(a.useEffect)((function(){o(parseInt(t.params.id))}),[o,t]),c?r.a.createElement("div",{className:"patientDetails"},r.a.createElement("div",{className:"patientDetails__header"},r.a.createElement(u.a,{as:"h1",style:{margin:0}},c.firstName," ",c.lastName),r.a.createElement(b.a,{negative:!0,icon:!0,size:"large",onClick:function(){d(r.a.createElement(on,{header:"Confirmation",message:"Are you sure you want to delete this user?",callback:function(){l(c.id),p()}}))}},r.a.createElement(m.a,{name:"trash alternate outline"}))),r.a.createElement("div",{className:"patientDetails__data"},r.a.createElement(dn.a,{menu:{fluid:!0,vertical:!0},menuPosition:"right",panes:hn}))):r.a.createElement(Kt,{content:"Loading patient"})})),En=function(){return r.a.createElement("div",{style:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",flexDirection:"column"}},r.a.createElement(u.a,{icon:!0},r.a.createElement(m.a,{name:"search"}),"Oops - we've looked everywhere but couldn't find this."),r.a.createElement(b.a,{as:pt.a,to:"/dashboard",primary:!0},"Return to Dashboard"))},On=(n(536),Object(mt.a)((function(){var e=Object(a.useContext)(lt),t=e.appointmentStore,n=t.deleteAppointment,i=t.appointment,o=e.modalStore,c=o.openModal,l=o.closeModal;return r.a.createElement("div",{className:"appointmentDetails__header"},r.a.createElement(u.a,{as:"h1",style:{margin:0}},"Appointment"),r.a.createElement(b.a,{negative:!0,icon:!0,size:"large",onClick:function(){c(r.a.createElement(on,{header:"Confirmation",message:"Are you sure you want to delete this appointment?",callback:function(){n(i.id),l()}}))}},r.a.createElement(m.a,{name:"trash alternate outline"})))}))),gn=function(e){var t=e.edit,n=e.setEdit;return r.a.createElement("div",{className:"appointmentDetails__mode"},r.a.createElement(u.a,{as:"h4",style:{margin:0}},"Mode:"),r.a.createElement(u.a,{as:"h4",color:"grey",style:{margin:"0",marginLeft:"3px"}},t?"Edit":"Display"),r.a.createElement(bn.a,{toggle:!0,style:{marginLeft:"auto"},value:t.toString(),onChange:function(){return n(!t)}}))},jn=[{key:"upcomming",text:"Upcomming",value:"Upcomming"},{key:"completed",text:"Completed",value:"Completed"},{key:"rejected",text:"Rejected",value:"Rejected"}],wn=function e(t){Object(E.a)(this,e),this.id=void 0,this.patientId=void 0,this.doctorId=void 0,this.date=void 0,this.status=void 0,this.reason=void 0,this.description=void 0,this.id=t.id,this.patientId=t.patientId,this.doctorId=t.doctorId,this.date=Lt(new Date(t.date),new Date(t.time)),this.status=t.status,this.reason=t.reason,this.description=t.description},yn=function e(t){Object(E.a)(this,e),this.patientId=-1,this.doctorId="",this.id=-1,this.status="",this.date=void 0,this.time=void 0,this.reason="",this.description="",Object.assign(this,t),t&&t.date&&(this.time=t.date),t&&t.doctor&&(this.doctorId=t.doctor.id),t&&t.patient&&(this.patientId=t.patient.id)},Cn=Object(mt.a)((function(e){var t=e.edit,n=Object(a.useContext)(lt).appointmentStore,i=n.appointment,o=n.updateAppointment,c=Object(a.useState)([]),l=Object(Ct.a)(c,2),s=l[0],u=l[1];Object(a.useEffect)((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe.list();case 2:t=e.sent,u(null===t||void 0===t?void 0:t.map((function(e){return{key:e.id,value:e.id,text:"".concat(e.firstName," ").concat(e.lastName)}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=Object(a.useState)([]),p=Object(Ct.a)(m,2),h=p[0],v=p[1];Object(a.useEffect)((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We.list(null);case 2:t=e.sent,v(null===t||void 0===t?void 0:t.map((function(e){return{key:e.id,value:e.id,text:"".concat(e.firstName," ").concat(e.lastName)}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var E=Object(a.useState)(new yn),O=Object(Ct.a)(E,2),g=O[0],j=O[1];Object(a.useEffect)((function(){j(new yn(i))}),[i]);var C=Object(st.combineValidators)({doctorId:Object(st.isRequired)("Doctor"),patientId:Object(st.isRequired)("Patient"),date:Object(st.isRequired)("Date"),time:Object(st.isRequired)("Time"),status:Object(st.isRequired)("Status")});return 0===s.length||null===h.length?r.a.createElement(Kt,null):r.a.createElement("div",{className:"appointmentDetails__basic"},r.a.createElement(f.b,{validate:C,initialValues:g,onSubmit:function(e){var t=new wn(e);return console.log(t),o(t)},render:function(e){var n=e.handleSubmit,a=e.submitting,i=e.invalid,o=e.pristine,c=e.dirtySinceLastSubmit;return r.a.createElement(d.a,{onSubmit:n},r.a.createElement(f.a,{readOnly:!t,component:$t,label:"Doctor",name:"doctorId",initialValue:null===g||void 0===g?void 0:g.doctorId,value:null===g||void 0===g?void 0:g.doctorId,options:s,search:!0,selection:!0}),r.a.createElement(f.a,{component:$t,readOnly:!t,label:"Patient",name:"patientId",initialValue:null===g||void 0===g?void 0:g.patientId,value:null===g||void 0===g?void 0:g.patientId,options:h,search:!0,selection:!0}),r.a.createElement(f.a,{component:_t,date:!0,readOnly:!t,name:"date",label:"Date",value:null===g||void 0===g?void 0:g.date}),r.a.createElement(f.a,{component:_t,time:!0,readOnly:!t,name:"time",label:"Time",value:null===g||void 0===g?void 0:g.time}),r.a.createElement(f.a,{component:Dt,name:"status",label:"Status",readOnly:!t,value:null===g||void 0===g?void 0:g.status,options:jn}),r.a.createElement(f.a,{component:en,name:"reason",readOnly:!t,value:null===g||void 0===g?void 0:g.reason,label:"Reason",rows:2}),r.a.createElement(f.a,{component:en,name:"description",readOnly:!t,label:"Description",value:null===g||void 0===g?void 0:g.description,rows:3}),r.a.createElement(b.a,{color:"blue",fluid:!0,disabled:i&&!c||o,loading:a},"Update"))}}))})),Sn=Object(mt.a)((function(e){var t,n=e.edit,i=Object(a.useContext)(lt),o=Object(a.useState)(""),c=Object(Ct.a)(o,2),l=c[0],s=c[1],d=Object(a.useState)(!1),p=Object(Ct.a)(d,2),f=p[0],v=p[1],E=i.appointmentStore,O=E.appointment,g=E.connectCondtion,j=E.disconnectCondition,w=E.deletingConditionId,y=E.loadingCondition;Object(a.useEffect)((function(){v(l.length>=3)}),[l]);return r.a.createElement("div",{className:"appointmentDetails__conditions"},r.a.createElement(u.a,{as:"h5",style:{margin:0,padding:0}},"Conditions"),r.a.createElement("div",{className:"conditions__list"},null===O||void 0===O||null===(t=O.conditions)||void 0===t?void 0:t.map((function(e){return r.a.createElement("div",{className:"conditionListItem",key:e.id},r.a.createElement(h.a,{color:"".concat(n?"blue":"grey")},e.name,r.a.createElement(m.a,{disabled:!n,onClick:function(){return t=e.id,void j(t);var t},name:"close",loading:w===e.id})))}))),r.a.createElement("div",{className:"conditions__input"},r.a.createElement(St.a,{style:{flex:1},disabled:!n,type:"text",placeholder:"Condition",action:!0,value:l,onChange:function(e){return s(e.currentTarget.value)}},r.a.createElement("input",null),r.a.createElement(b.a,{type:"submit",disabled:!n&&f,loading:y,onClick:function(){f&&(g(l),s(""))}},"Add"))))})),xn=Object(mt.a)((function(e){var t=e.match,n=Object(a.useContext)(lt).appointmentStore,i=n.loadAppointment,o=n.loadingAppointment,c=Object(a.useState)(!1),l=Object(Ct.a)(c,2),s=l[0],u=l[1];return Object(a.useEffect)((function(){i(parseInt(t.params.id))}),[i,t]),o?r.a.createElement(Kt,{content:"Loading appointment"}):r.a.createElement("div",{className:"appointmentDetails"},r.a.createElement(On,null),r.a.createElement(gn,{edit:s,setEdit:u}),r.a.createElement("div",{className:"appointmentDetails__data"},r.a.createElement(Cn,{edit:s}),r.a.createElement(Sn,{edit:s})))})),An=Object(mt.a)((function(){var e=Object(a.useContext)(lt).userStore,t=e.user,n=e.updateAccount,i=Object(st.combineValidators)({firstName:Object(st.composeValidators)(st.isRequired,st.isAlphabetic)("First Name"),lastName:Object(st.composeValidators)(st.isRequired,st.isAlphabetic)("Last Name"),email:Object(st.composeValidators)(st.isRequired)("Email"),pesel:Object(st.composeValidators)(st.isRequired,st.isNumeric)("Pesel")});return r.a.createElement(Gt.a.Column,null,r.a.createElement(s.a,null,r.a.createElement(u.a,{as:"h1"},"Account"),r.a.createElement(f.b,{validate:i,initialValues:t,onSubmit:function(e){return n(e)},render:function(e){var n=e.handleSubmit,a=e.submitting,i=e.invalid,o=e.pristine,c=e.dirtySinceLastSubmit;return r.a.createElement(d.a,{onSubmit:n},r.a.createElement(f.a,{component:v,name:"firstName",placeholder:"First Name",label:"First Name",value:null===t||void 0===t?void 0:t.firstName}),r.a.createElement(f.a,{component:v,name:"lastName",placeholder:"Last Name",label:"Last Name",value:null===t||void 0===t?void 0:t.lastName}),r.a.createElement(f.a,{component:v,name:"pesel",placeholder:"Pesel",label:"Pesel",value:null===t||void 0===t?void 0:t.pesel}),r.a.createElement(f.a,{component:v,name:"email",placeholder:"Email",label:"Email",value:null===t||void 0===t?void 0:t.email}),r.a.createElement(b.a,{fluid:!0,color:"blue",loading:a,disabled:i&&!c||o},"Update"))}})))})),Nn=function(e){var t,n,a=e.error;return r.a.createElement(p.a,null,r.a.createElement(p.a.Header,null,a.statusText),null===a||void 0===a||null===(t=a.data)||void 0===t||null===(n=t.errors)||void 0===n?void 0:n.Password.map((function(e){return r.a.createElement(p.a.Content,{content:e.Description})})))},Pn=Object(mt.a)((function(){var e=Object(a.useContext)(lt).userStore,t=e.changePassword,n=e.changingPassword,i=Object(a.useState)(""),o=Object(Ct.a)(i,2),c=o[0],l=o[1],m=Object(a.useState)(""),p=Object(Ct.a)(m,2),f=p[0],v=p[1],E=Object(a.useState)(""),O=Object(Ct.a)(E,2),g=O[0],j=O[1],w=Object(a.useState)(null),y=Object(Ct.a)(w,2),C=y[0],S=y[1],x=Object(a.useState)(null),A=Object(Ct.a)(x,2),N=A[0],P=A[1];return Object(a.useEffect)((function(){P(null),S(null)}),[c,f,g]),r.a.createElement(Gt.a.Column,null,r.a.createElement(s.a,null,r.a.createElement(u.a,{as:"h1"},"Password"),r.a.createElement(d.a,null,r.a.createElement(d.a.Field,null,r.a.createElement("label",null,"Current Password"),r.a.createElement("input",{type:"password",value:c,onChange:function(e){return l(e.currentTarget.value)}})),r.a.createElement(d.a.Field,null,r.a.createElement("label",null,"New Password"),r.a.createElement("input",{type:"password",value:f,onChange:function(e){return v(e.currentTarget.value)}})),r.a.createElement(d.a.Field,null,r.a.createElement("label",null,"Confirm New Password"),r.a.createElement("input",{type:"password",value:g,onChange:function(e){return j(e.currentTarget.value)}}),C&&r.a.createElement(h.a,{content:C,basic:!0,pointing:!0,color:"red"})),N&&r.a.createElement(Nn,{error:N}),r.a.createElement(b.a,{fluid:!0,color:"blue",loading:n,disabled:!!N&&!!C,onClick:function(){f!==g?S("New password doest not match with repeted"):0===f.length?S("New password cannot be empty"):t(c,f).catch((function(e){P(e)}))}},"Change Password"))))})),kn=function(){return r.a.createElement(Gt.a,{columns:2,style:{marginTop:"20px"}},r.a.createElement(An,null),r.a.createElement(Pn,null))},Dn=Object(mt.a)((function(){var e=Object(a.useContext)(lt),t=e.userStore.getUser,n=e.commonStore,i=n.token,o=n.appLoaded,l=n.setAppLoaded;return Object(a.useEffect)((function(){i?t().finally((function(){return l()})):l()}),[i,t,l]),o?r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{exact:!0,path:"/",component:dt}),r.a.createElement(c.b,{exact:!0,path:"/(.+)",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"app"},r.a.createElement(mn,null),r.a.createElement(A.a,{position:"bottom-right"}),r.a.createElement("div",{className:"app__wrapper"},r.a.createElement(bt,null),r.a.createElement("div",{className:"app__content"},r.a.createElement(c.d,null,r.a.createElement(sn,{path:"/dashboard",component:yt}),r.a.createElement(sn,{exact:!0,path:"/patients",component:Tt}),r.a.createElement(sn,{exact:!0,path:"/patients/:id",component:vn}),r.a.createElement(sn,{exact:!0,path:"/appointments",component:an}),r.a.createElement(sn,{exact:!0,path:"/appointments/:id",component:xn}),r.a.createElement(sn,{exact:!0,path:"/admin",component:ln}),r.a.createElement(sn,{exact:!0,path:"/settings",component:kn}),r.a.createElement(sn,{component:En}))),r.a.createElement(un,null))))}})):r.a.createElement(Kt,{content:"Loading app..."})})),In=(n(537),n(45)),zn=(n(538),n(307)),_n=n.n(zn);n(550),n(553);_n()();var Ln=Object(In.a)();o.a.render(r.a.createElement(c.c,{history:Ln},r.a.createElement(Dn,null)),document.getElementById("root"))}},[[322,1,2]]]);
//# sourceMappingURL=main.771afeb3.chunk.js.map